.calendar {
  width: $size * 7 + $gap * 7;
  margin: 0 auto;
  display: flex;
  flex-wrap: wrap;

  div {
    @include cell-style($size, $bg-color, $gap, $border-style);

    &:hover {
      background-color: $bg-color-hover;
      transform: translate(0 , -20px);
      cursor: pointer;
    }
  }
}

@each $day-name, $day-number in $week-days {
  .calendar-#{$day-name} div:first-child {
    margin-left: ($size + $gap) * $day-number;
  }
}

@each $month-length-name, $month-length in $months-length {
  @for $i from 1 through $month-length {
    $useless-days: $month-length + 1;
    .calendar-#{$month-length-name} div:nth-child(#{$i}) {
      &::after {
        content: "#{$i}";
      }
    }

    .calendar-#{$month-length-name} div:nth-child(n + #{$useless-days}) {
      visibility: hidden;
    }
  }
}
